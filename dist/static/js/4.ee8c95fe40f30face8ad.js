webpackJsonp([4],{QTpF:function(t,e,a){"use strict";var o={props:{pics:{type:Array,default:function(){return[]}},width:{type:String,default:"200px"},flag:{type:Number,default:1}},methods:{handleRemove:function(){this.$emit("listenFileRemove")},handleFormatError:function(t){this.$Notice.warning({title:"图片格式错误",desc:"仅支持jpg,jpeg,png三种格式上传"})},handleMaxSize:function(t){this.$Notice.warning({title:"图片过大",desc:"图片过大，最多支持2M"})},uploadFunc:function(t){var e=new FormData;return e.append("file",t),this.$emit("listenFileUpload",e,this.flag),!1}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.pics.length&&""!=t.pics[0]&&t.pics[0]?[a("div",{staticClass:"demo-upload-list",style:{width:t.width}},[a("img",{attrs:{src:t.pics[0]}}),t._v(" "),a("div",{staticClass:"demo-upload-list-cover"},[a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return t.handleRemove(e)}}})],1)])]:[a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"100%"},attrs:{"show-upload-list":!1,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,type:"drag",action:"","before-upload":t.uploadFunc}},[a("div",{staticStyle:{"line-height":"100%",height:"100%"}},[a("Icon",{attrs:{type:"ios-camera",size:"35"}})],1)])]],2)},staticRenderFns:[]};var l=a("VU/8")(o,i,!1,function(t){a("X4w+")},"data-v-08cf44dd",null).exports;e.a=l},"X4w+":function(t,e){},mImR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("0J0o"),i=a("P9l9"),l=a("QTpF"),n=a("rho9"),r={name:"api_index",components:{Tables:o.a,MyUpload:l.a},data:function(){var t=this;return{status_desc:{1:"有效",2:"无效"},modifyModal:{open:!1,formData:{}},table_title:[{title:"ID",width:70,key:"id"},{title:"名称",width:90,key:"name"},{title:"状态",key:"status",width:70,render:function(e,a){return e("div",t.status_desc[a.row.status])}},{title:"开始时间",width:90,key:"start_time"},{title:"结束时间",width:90,key:"end_time"},{title:"倒计时",width:90,key:"k_time"},{title:"间隔",width:70,key:"gap"},{title:"接口",key:"url"},{title:"排序",key:"order",width:90,align:"center"},{title:"图标",key:"pic",align:"center"},{title:"标志",key:"flag",width:90},{title:"最大期数",key:"max_num",width:90},{title:"操作",key:"oparate",width:100,align:"center",render:function(e,a){return e("div",[e("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){t.openModifyModal(a.row)}}},"修改")])}}],table_data:[],loading:!1,total:100,pageSize:20}},methods:{getSearchData:function(t){var e=this;this.loading=!0,i.a.get("api/getConfig",t).then(function(t){e.table_data=t.req.data.data.list,e.pageSize=t.req.data.data.pageSize,e.total=t.req.data.data.total}),this.loading=!1},getResetData:function(t){},getEndTime:function(t){this.modifyModal.formData.end_time=t},getStartTime:function(t){this.modifyModal.formData.start_time=t},getKTime:function(t){this.modifyModal.formData.k_time=t},openModifyModal:function(t){this.modifyModal.open=!0,this.modifyModal.formData={id:t.id,max_num:t.max_num,start_time:t.start_time,end_time:t.end_time,name:t.name,gap:t.gap,k_time:t.k_time,shuoming:t.shuoming,status:t.status+"",order:t.order,pic:t.pic}},modify:function(){Object(n.b)("api/modifyConfig",this)},reset:function(t){Object(n.d)(t,this)},uploadFile:function(t,e){Object(n.e)(t,e,this)},removeFile:function(t){Object(n.c)(t,this)}},mounted:function(){this.getSearchData()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Tables",{attrs:{border:"",columns:t.table_title,data:t.table_data,loading:t.loading,total:t.total,pageSize:t.pageSize},on:{listenFormData:t.getSearchData,listenResetFormData:t.getResetData}}),t._v(" "),a("Modal",{attrs:{width:"660"},on:{"on-cancel":function(e){return t.reset(1)}},model:{value:t.modifyModal.open,callback:function(e){t.$set(t.modifyModal,"open",e)},expression:"modifyModal.open"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改")])]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("Form",{ref:"modifyModal.formData",attrs:{model:t.modifyModal.formData,"label-width":80}},[a("FormItem",{attrs:{label:"名称"}},[a("Input",{attrs:{type:"text"},model:{value:t.modifyModal.formData.name,callback:function(e){t.$set(t.modifyModal.formData,"name",e)},expression:"modifyModal.formData.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"最大期数"}},[a("Input",{attrs:{type:"text"},model:{value:t.modifyModal.formData.max_num,callback:function(e){t.$set(t.modifyModal.formData,"max_num",e)},expression:"modifyModal.formData.max_num"}})],1),t._v(" "),a("FormItem",{attrs:{label:"状态"}},[a("Select",{model:{value:t.modifyModal.formData.status,callback:function(e){t.$set(t.modifyModal.formData,"status",e)},expression:"modifyModal.formData.status"}},[t._l(t.status_desc,function(e,o){return[a("Option",{attrs:{value:o}},[t._v(t._s(e))])]})],2)],1),t._v(" "),a("FormItem",{attrs:{label:"开始时间"}},[a("TimePicker",{staticStyle:{width:"100%"},attrs:{type:"time",value:t.modifyModal.formData.start_time,placeholder:"请选择"},on:{"on-change":t.getStartTime}})],1),t._v(" "),a("FormItem",{attrs:{label:"结束时间"}},[a("TimePicker",{staticStyle:{width:"100%"},attrs:{type:"time",value:t.modifyModal.formData.end_time,placeholder:"请选择"},on:{"on-change":t.getEndTime}})],1),t._v(" "),a("FormItem",{attrs:{label:"间隔"}},[a("Input",{attrs:{type:"text"},model:{value:t.modifyModal.formData.gap,callback:function(e){t.$set(t.modifyModal.formData,"gap",e)},expression:"modifyModal.formData.gap"}})],1),t._v(" "),a("FormItem",{attrs:{label:"排序"}},[a("Input",{attrs:{type:"text"},model:{value:t.modifyModal.formData.order,callback:function(e){t.$set(t.modifyModal.formData,"order",e)},expression:"modifyModal.formData.order"}})],1),t._v(" "),a("FormItem",{attrs:{label:"头像"}},[a("MyUpload",{attrs:{pics:[t.modifyModal.formData.pic],flag:3},on:{listenFileUpload:t.uploadFile,listenFileRemove:function(e){return t.removeFile(3)}}})],1),t._v(" "),a("FormItem",{attrs:{label:"第二次倒计时"}},[a("TimePicker",{staticStyle:{width:"100%"},attrs:{type:"time",value:t.modifyModal.formData.k_time,placeholder:"请选择"},on:{"on-change":t.getKTime}})],1),t._v(" "),a("FormItem",{attrs:{label:"底部说明"}},[a("Input",{attrs:{type:"textarea"},model:{value:t.modifyModal.formData.shuoming,callback:function(e){t.$set(t.modifyModal.formData,"shuoming",e)},expression:"modifyModal.formData.shuoming"}})],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",disabled:t.loading},on:{click:t.modify}},[t._v("修改")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"default",disabled:t.loading},on:{click:function(e){return t.reset(1)}}},[t._v("返回")])],1)])],1)},staticRenderFns:[]},s=a("VU/8")(r,d,!1,null,null,null);e.default=s.exports}});
//# sourceMappingURL=4.ee8c95fe40f30face8ad.js.map