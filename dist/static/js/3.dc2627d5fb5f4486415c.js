webpackJsonp([3],{ALDf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("0J0o"),l=a("P9l9"),i=a("QTpF"),n=a("rho9"),d={name:"api_user",components:{Tables:o.a,MyUpload:i.a},data:function(){var t=this;return{pics:[],modifyModal:{open:!1,formData:{}},addModal:{open:!1,formData:{}},table_title:[{title:"ID",key:"id",width:70,align:"center"},{title:"名称",key:"nickname",width:90,align:"center"},{title:"头像",key:"header"},{title:"接口名",key:"name",width:80,align:"center"},{title:"类型",key:"type",width:100,align:"center",render:function(e,a){return e("div",t.getType(a.row.type))}},{title:"操作",key:"oparate",width:150,align:"center",render:function(e,a){return e("div",[e("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){t.openModifyModal(a.row)}}},"修改"),e("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){Object(n.b)("api/delPlanUser",t,{id:a.row.id})}}},"删除")])}}],table_data:[],searchField:[[{key:"flag",type:"select",fields:{1:"江苏",2:"湖北",3:"吉林",4:"河北",5:"甘肃",6:"上海",7:"一分快三",8:"三分快三",9:"五分快三"},placeholder:"姓名",name:"接口名"}]],loading:!1,total:100,pageSize:10}},methods:{getSearchData:function(t){var e=this;this.loading=!0,l.a.get("api/getPlanUser",t).then(function(t){e.table_data=t.req.data.data.list,e.total=t.req.data.data.total}),this.loading=!1},getResetData:function(t){this.getSearchData(t)},getType:function(t){switch(t){case 1:return"民间高手";case 2:return"业内专家"}},openModifyModal:function(t){this.modifyModal.open=!0,this.modifyModal.formData={id:t.id,nickname:t.nickname,header:t.header,type:""+t.type}},openAddModal:function(){this.addModal.open=!0,this.addModal.formData={header:"",nickname:"",type:"",flag:""}},modify:function(){Object(n.c)("api/modifyPlanUser",this)},add:function(){Object(n.a)("api/addPlanUser",this)},reset:function(t){Object(n.e)(t,this)},uploadFile:function(t,e){Object(n.f)(t,e,this)},removeFile:function(t){Object(n.d)(t,this)}},mounted:function(){this.getSearchData({pageSize:this.pageSize,page:1})}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Button",{attrs:{type:"primary"},on:{click:t.openAddModal}},[t._v("添加")]),t._v(" "),a("Tables",{attrs:{border:"",columns:t.table_title,data:t.table_data,searchField:t.searchField,loading:t.loading,total:t.total,pageSize:t.pageSize},on:{listenFormData:t.getSearchData,listenResetFormData:t.getResetData}}),t._v(" "),a("Modal",{attrs:{width:"660"},on:{"on-cancel":function(e){t.reset(1)}},model:{value:t.modifyModal.open,callback:function(e){t.$set(t.modifyModal,"open",e)},expression:"modifyModal.open"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("修改")])]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("Form",{ref:"modifyModal.formData",attrs:{model:t.modifyModal.formData,"label-width":80}},[a("FormItem",{attrs:{label:"ID"}},[a("Input",{attrs:{type:"text",readonly:!0},model:{value:t.modifyModal.formData.id,callback:function(e){t.$set(t.modifyModal.formData,"id",e)},expression:"modifyModal.formData.id"}})],1),t._v(" "),a("FormItem",{attrs:{label:"名称"}},[a("Input",{attrs:{type:"text"},model:{value:t.modifyModal.formData.nickname,callback:function(e){t.$set(t.modifyModal.formData,"nickname",e)},expression:"modifyModal.formData.nickname"}})],1),t._v(" "),a("FormItem",{attrs:{label:"头像"}},[a("MyUpload",{attrs:{pics:[t.modifyModal.formData.header],flag:1},on:{listenFileUpload:t.uploadFile,listenFileRemove:function(e){t.removeFile(1)}}})],1),t._v(" "),a("FormItem",{attrs:{label:"类型",prop:"type"}},[a("Select",{model:{value:t.modifyModal.formData.type,callback:function(e){t.$set(t.modifyModal.formData,"type",e)},expression:"modifyModal.formData.type"}},[a("Option",{attrs:{value:"1"}},[t._v("民间高手")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("业内专家")])],1)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",disabled:t.loading},on:{click:t.modify}},[t._v("修改")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"default",disabled:t.loading},on:{click:function(e){t.reset(1)}}},[t._v("返回")])],1)]),t._v(" "),a("Modal",{attrs:{width:"660"},on:{"on-cancel":function(e){t.reset(2)}},model:{value:t.addModal.open,callback:function(e){t.$set(t.addModal,"open",e)},expression:"addModal.open"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("添加")])]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("Form",{ref:"addModal.formData",attrs:{model:t.addModal.formData,"label-width":80}},[a("FormItem",{attrs:{label:"名称"}},[a("Input",{attrs:{type:"text"},model:{value:t.addModal.formData.nickname,callback:function(e){t.$set(t.addModal.formData,"nickname",e)},expression:"addModal.formData.nickname"}})],1),t._v(" "),a("FormItem",{attrs:{label:"头像"}},[a("MyUpload",{attrs:{pics:[t.addModal.formData.header],flag:2},on:{listenFileUpload:t.uploadFile,listenFileRemove:function(e){t.removeFile(2)}}})],1),t._v(" "),a("FormItem",{attrs:{label:"类型",prop:"type"}},[a("Select",{model:{value:t.addModal.formData.type,callback:function(e){t.$set(t.addModal.formData,"type",e)},expression:"addModal.formData.type"}},[a("Option",{attrs:{value:"1"}},[t._v("民间高手")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("业内专家")])],1)],1),t._v(" "),a("FormItem",{attrs:{label:"接口名",prop:"flag"}},[a("Select",{model:{value:t.addModal.formData.flag,callback:function(e){t.$set(t.addModal.formData,"flag",e)},expression:"addModal.formData.flag"}},[t._l(t.searchField[0][0].fields,function(e,o){return[a("Option",{attrs:{value:o}},[t._v(t._s(e))])]})],2)],1)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",disabled:t.loading},on:{click:t.add}},[t._v("添加")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"default",disabled:t.loading},on:{click:function(e){t.reset(2)}}},[t._v("返回")])],1)])],1)},staticRenderFns:[]},s=a("VU/8")(d,r,!1,null,null,null);e.default=s.exports},QTpF:function(t,e,a){"use strict";var o={props:{pics:{type:Array,default:function(){return[]}},width:{type:String,default:"200px"},flag:{type:Number,default:1}},methods:{handleRemove:function(){this.$emit("listenFileRemove")},handleFormatError:function(t){this.$Notice.warning({title:"图片格式错误",desc:"仅支持jpg,jpeg,png三种格式上传"})},handleMaxSize:function(t){this.$Notice.warning({title:"图片过大",desc:"图片过大，最多支持2M"})},uploadFunc:function(t){var e=new FormData;return e.append("file",t),this.$emit("listenFileUpload",e,this.flag),!1}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.pics.length&&""!=t.pics[0]&&t.pics[0]?[a("div",{staticClass:"demo-upload-list",style:{width:t.width}},[a("img",{attrs:{src:t.pics[0]}}),t._v(" "),a("div",{staticClass:"demo-upload-list-cover"},[a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){return t.handleRemove(e)}}})],1)])]:[a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"100%"},attrs:{"show-upload-list":!1,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,type:"drag",action:"","before-upload":t.uploadFunc}},[a("div",{staticStyle:{"line-height":"100%",height:"100%"}},[a("Icon",{attrs:{type:"ios-camera",size:"35"}})],1)])]],2)},staticRenderFns:[]};var i=a("VU/8")(o,l,!1,function(t){a("X4w+")},"data-v-08cf44dd",null).exports;e.a=i},"X4w+":function(t,e){}});
//# sourceMappingURL=3.dc2627d5fb5f4486415c.js.map