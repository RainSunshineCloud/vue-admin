webpackJsonp([4],{mImR:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e("0J0o"),i=e("P9l9"),n=e("rho9"),d={name:"api_index",components:{Tables:o.a},data:function(){var t=this;return{modifyModal:{open:!1,formData:{}},table_title:[{title:"ID",key:"id"},{title:"名称",key:"name"},{title:"开始时间",key:"start_time"},{title:"结束时间",key:"end_time"},{title:"间隔",key:"gap"},{title:"接口",key:"url"},{title:"标志",key:"flag"},{title:"最大期数",key:"max_num"},{title:"操作",key:"oparate",width:100,align:"center",render:function(a,e){return a("div",[a("Button",{props:{size:"small"},style:{marginRight:"5px"},on:{click:function(){t.openModifyModal(e.row)}}},"修改")])}}],table_data:[],loading:!1,total:100,pageSize:20}},methods:{getSearchData:function(t){var a=this;this.loading=!0,i.a.get("api/getConfig",t).then(function(t){a.table_data=t.req.data.data.list,a.pageSize=t.req.data.data.pageSize,a.total=t.req.data.data.total}),this.loading=!1},getResetData:function(t){},getEndTime:function(t){this.modifyModal.formData.end_time=t},getStartTime:function(t){this.modifyModal.formData.start_time=t},openModifyModal:function(t){this.modifyModal.open=!0,this.modifyModal.formData={id:t.id,max_num:t.max_num,start_time:t.start_time,end_time:t.end_time,name:t.name,gap:t.gap}},modify:function(){console.log(this.modifyModal.formData),Object(n.b)("api/modifyConfig",this)},reset:function(t){Object(n.d)(t,this)}},mounted:function(){this.getSearchData()}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Tables",{attrs:{border:"",columns:t.table_title,data:t.table_data,loading:t.loading,total:t.total,pageSize:t.pageSize},on:{listenFormData:t.getSearchData,listenResetFormData:t.getResetData}}),t._v(" "),e("Modal",{attrs:{width:"660"},on:{"on-cancel":function(a){t.reset(1)}},model:{value:t.modifyModal.open,callback:function(a){t.$set(t.modifyModal,"open",a)},expression:"modifyModal.open"}},[e("p",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v("修改")])]),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[e("Form",{ref:"modifyModal.formData",attrs:{model:t.modifyModal.formData,"label-width":80}},[e("FormItem",{attrs:{label:"名称"}},[e("Input",{attrs:{type:"text",readonly:!0},model:{value:t.modifyModal.formData.name,callback:function(a){t.$set(t.modifyModal.formData,"name",a)},expression:"modifyModal.formData.name"}})],1),t._v(" "),e("FormItem",{attrs:{label:"最大期数"}},[e("Input",{attrs:{type:"text"},model:{value:t.modifyModal.formData.max_num,callback:function(a){t.$set(t.modifyModal.formData,"max_num",a)},expression:"modifyModal.formData.max_num"}})],1),t._v(" "),e("FormItem",{attrs:{label:"开始时间"}},[e("TimePicker",{staticStyle:{width:"100%"},attrs:{type:"time",value:t.modifyModal.formData.start_time,placeholder:"请选择"},on:{"on-change":t.getStartTime}})],1),t._v(" "),e("FormItem",{attrs:{label:"结束时间"}},[e("TimePicker",{staticStyle:{width:"100%"},attrs:{type:"time",value:t.modifyModal.formData.end_time,placeholder:"请选择"},on:{"on-change":t.getEndTime}})],1),t._v(" "),e("FormItem",{attrs:{label:"间隔"}},[e("Input",{attrs:{type:"text"},model:{value:t.modifyModal.formData.gap,callback:function(a){t.$set(t.modifyModal.formData,"gap",a)},expression:"modifyModal.formData.gap"}})],1)],1)],1),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"primary",disabled:t.loading},on:{click:t.modify}},[t._v("修改")]),t._v(" "),e("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"default",disabled:t.loading},on:{click:function(a){t.reset(1)}}},[t._v("返回")])],1)])],1)},staticRenderFns:[]},r=e("VU/8")(d,l,!1,null,null,null);a.default=r.exports},rho9:function(t,a,e){"use strict";e.d(a,"c",function(){return i}),e.d(a,"e",function(){return n}),e.d(a,"d",function(){return d}),e.d(a,"b",function(){return l}),e.d(a,"a",function(){return r});var o=e("P9l9"),i=function(t,a){switch(t){case 1:a.modifyModal.formData.header="";break;case 2:a.addModal.formData.header=""}},n=function(t,a,e){t.append("type","header"),o.a.post("api/uploadImg",t).then(function(t){switch(a){case 1:e.modifyModal.formData.header=t.req.data.data;break;case 2:e.addModal.formData.header=t.req.data.data}})},d=function(t,a){switch(t){case 1:a.modifyModal.open=!1,a.modifyModal.formData={};break;case 2:a.addModal.open=!1,a.addModal.formData={}}},l=function(t,a){o.a.post(t,a.modifyModal.formData).then(function(t){a.modifyModal.open=!1,a.getSearchData({pageSize:a.pageSize,page:1})})},r=function(t,a){o.a.post(t,a.addModal.formData).then(function(t){a.addModal.open=!1,a.getSearchData({pageSize:a.pageSize,page:1})})}}});
//# sourceMappingURL=4.d821f2167983451564f2.js.map